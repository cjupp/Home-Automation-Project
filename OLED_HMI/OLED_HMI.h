/*--------------------------------------------------------------------------------------------------------------------
| oled_hmi.h: 
|
| Created by:     Cameron Jupp
| Date Started:   December 30, 2022
--------------------------------------------------------------------------------------------------------------------*/

/* -------------------------------------------------------------------------------------------------------------------- |
| --------------------------------  / \  / /  / __  /  /__ __/  / ___/  / ____/ --------------------------------------- |
| -------------------------------  / /\\/ /  / /_/ /    / /    / __/    \__ \  ---------------------------------------- |
| ------------------------------  /_/  \_/  /_____/    /_/    /____/  /_____/ ----------------------------------------- |
| --------------------------------------------------------------------------------------------------------------------- |
| Last left off at:
|
| 
|
|
|
| --------------------------------------------------------------------------------------------------------------------- */ 

#include "Real_Timekeeping.h"

#ifndef OLED_HMI_H
#define OLED_HMI_H

// -------------------------------------------------------------------------------------------------------------------- //
// --------------------------- /    \   / ___/  / ___/  /_  _/  / \  / /  / ___/  / ____/ ----------------------------- //
// -------------------------- / /_\ /  / __/   / __/     / /   / /\\/ /  / __/    \__ \  ------------------------------ //
// ------------------------- /_____/  /____/  /_/      /___/  /_/  \_/  /____/  /_____/ ------------------------------- //
// -------------------------------------------------------------------------------------------------------------------- //
#define OLED_INPUT_CHARS   16

// -------------------------------------------------------------------------------------------------------------------- //
// -------------------------- / ___/  / /     / __  /  / _ /    / _\      / /     / ____/ ----------------------------- //
// ------------------------- / /_//  / /__   / /_/ /  / _  \   / /_\\    / /__    \__ \  ------------------------------ //
// ------------------------ /____/  /____/  /_____/  /_____/  /_/   \\  /____/  /_____/ ------------------------------- //
// -------------------------------------------------------------------------------------------------------------------- //

// -------------------------------------------------------------------------------------------------------------------- //
// ----------------------------- / ___/  / /     / _\      / ____/  / ____/  / ___/  / ____/ -------------------------- //
// ---------------------------- / /__   / /__   / /_\\     \__ \    \__ \   / __/    \__ \  --------------------------- //
// --------------------------- /____/  /____/  /_/   \\  /_____/  /_____/  /____/  /_____/ ---------------------------- //
// -------------------------------------------------------------------------------------------------------------------- //

/*-----------------------------------------------------------------------------------------------------------------------/ 
|------------------------------------------------------ CLASS ----------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
| strInput: Allows a user to input a string using a display
|        -------------------------------------------------------------------------------------------------------
| Notes/Future Changes:
| - 
|        -------------------------------------------------------------------------------------------------------
| Created by: Cameron Jupp
| Date:       December 30th, 2022
| Edited:     {Date}  
|-----------------------------------------------------------------------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
|--------------------------------------------------------------------------------------------------------------------*/
class strInput
{
  public:
  #define X 0
  #define Y 1

  #define X_CHARS 11
  #define Y_CHARS 5

  char complete = 0;

  char alphabet[Y_CHARS][X_CHARS+1] = {"0123456789<","abcdefghijk","lmnopqrstuv","wxyz.-_$/?'", "<    +    >"};
  
  char output[OLED_INPUT_CHARS+1];

  char index[2] = {0, 0};

  char charIndex = 0;

  char caps = 0;

  char * getStr();
  void build();

  void move(char dir);
  void changeCase(char charCase);
  void up();
  void down();
  void left();
  void right();
  void sel();
  void reset();
  void accept();
  void del();
  void cancel();

  void dispChars();
  void dispOutput();

};


/*-----------------------------------------------------------------------------------------------------------------------/ 
|------------------------------------------------------ CLASS ----------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
| timeInput: Allows a user to enter a time to be used in other parts of a system
|        -------------------------------------------------------------------------------------------------------
| Notes/Future Changes:
| - 
|        -------------------------------------------------------------------------------------------------------
| Created by: Cameron Jupp
| Date:       December 30th, 2022
| Edited:     {Date}  
|-----------------------------------------------------------------------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
|--------------------------------------------------------------------------------------------------------------------*/
class timeInput
{
  public:

  #define HR 0
  #define MIN 1

  char header[12];

  char complete = 0;

  char index = 0;

  char output[4];

  clkTime clock;

  char setHeader(char * newHeader);
  void build();
  void up();
  void down();
  void left();
  void right();
  void sel();
  void convertTime();
  clkTime * accept();
  void cancel();
  void reset();
};


/*-----------------------------------------------------------------------------------------------------------------------/ 
|------------------------------------------------------ CLASS ----------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
| weekdayInput: Allows a user to input the days of the week through a display
|        -------------------------------------------------------------------------------------------------------
| Notes/Future Changes:
| - 
|        -------------------------------------------------------------------------------------------------------
| Created by: Cameron Jupp
| Date:       December 30th, 2022
| Edited:     {Date}  
|-----------------------------------------------------------------------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
|--------------------------------------------------------------------------------------------------------------------*/
class weekdayInput
{
  public:
  char complete = 0;
  char days = 0;
  char index = 0;

  void build();
  void left();
  void right();
  void sel();
    char accept();
    void cancel();
    void reset();
  
};


/*-----------------------------------------------------------------------------------------------------------------------/ 
|------------------------------------------------------ CLASS ----------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
| yesNoInput: Displays a message and asks for user input using a display
|        -------------------------------------------------------------------------------------------------------
| Notes/Future Changes:
| - 
|        -------------------------------------------------------------------------------------------------------
| Created by: Cameron Jupp
| Date:       January 16, 2023
| Edited:     {Date}  
|-----------------------------------------------------------------------------------------------------------------------/
|----------------------------------------------------------------------------------------------------------------------/
|--------------------------------------------------------------------------------------------------------------------*/
class yesNoInput
{
  public:

  #define YES_NO    0
  #define OK_CANCEL 1
  
  char index = 0;
  char message[30];
  char mode = YES_NO;
  char complete = 0;

  void build();
  void setMsg(char * msg);
  char setMode(char mode);
  char sel();
  void left();
  void right();
};


// -------------------------------------------------------------------------------------------------------------------- //
// -------------------  / ___/  / / //  / \  / /  / ___/ /__  __/  /_  _/  / __  /  / \  / /  / ____/ ----------------- //
// ------------------  / __/   / /_//  / /\\/ /  / /__     / /      / /   / /_/ /  / /\\/ /   \__ \ ------------------- //
// -----------------  /_/     /____/  /_/  \_/  /____/    /_/     /___/  /_____/  /_/  \_/  /_____/ ------------------- //
// -------------------------------------------------------------------------------------------------------------------- //
void hmiSystemInit();

#endif